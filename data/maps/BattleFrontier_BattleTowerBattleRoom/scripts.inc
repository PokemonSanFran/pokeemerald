BattleFrontier_BattleTowerBattleRoom_MapScripts::
	map_script MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE, BattleFrontier_BattleTowerBattleRoom_MapScripts_MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE
	map_script MAP_SCRIPT_ON_FRAME_TABLE, BattleFrontier_BattleTowerBattleRoom_MapScripts_MAP_SCRIPT_ON_FRAME_TABLE
	.byte 0

BattleFrontier_BattleTowerBattleRoom_MapScripts_MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE:
	map_script_2 VAR_TEMP_1, 0, BattleFrontier_BattleTowerBattleRoom_EventScript_SetUpObjects
	.2byte 0

BattleFrontier_BattleTowerBattleRoom_MapScripts_MAP_SCRIPT_ON_FRAME_TABLE:
	map_script_2 VAR_TEMP_0, 0, BattleFrontier_BattleTowerBattleRoom_EventScript_EnterRoom
	.2byte 0


BattleFrontier_BattleTowerBattleRoom_EventScript_SetUpObjects::
	setvar VAR_TEMP_1, 1
	applymovement 3, BattleFrontier_BattleTowerBattleRoom_Movement_SetInvisible
	end


BattleFrontier_BattleTowerBattleRoom_EventScript_EnterRoom::
	setvar VAR_TEMP_0, 1
	applymovement OBJ_EVENT_ID_PLAYER, BattleFrontier_BattleTowerBattleRoom_Movement_PlayerEnter
	waitmovement 0
	frontier_get FRONTIER_DATA_BATTLE_NUM
	compare VAR_RESULT, 0
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_EnterRoom_2
BattleFrontier_BattleTowerBattleRoom_EventScript_EnterRoom_1:
	applymovement 2, BattleFrontier_BattleTowerBattleRoom_Movement_AttendantApproachPlayer
	waitmovement 0
	applymovement OBJ_EVENT_ID_PLAYER, BattleFrontier_BattleTowerBattleRoom_Movement_PlayerFaceAttendant
	waitmovement 0
	setvar VAR_TEMP_2, 1
	frontier_set FRONTIER_DATA_RECORD_DISABLED, TRUE
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_EnterRoom_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_OpponentEnter
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_EnterRoom_1


BattleFrontier_BattleTowerBattleRoom_EventScript_OpponentEnter::
	tower_setopponent
	addobject 1
	applymovement 1, BattleFrontier_BattleTowerBattleRoom_Movement_OpponentEnter
	waitmovement 0
	tower_getopponentintro 0
	msgbox gStringVar4, MSGBOX_DEFAULT
	waitmessage
	call BattleFrontier_BattleTowerBattleRoom_EventScript_DoTowerBattle
	compare VAR_RESULT, B_OUTCOME_WON
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_OpponentEnter_2
BattleFrontier_BattleTowerBattleRoom_EventScript_OpponentEnter_1:
	goto BattleFrontier_BattleTower_EventScript_WarpToLobbyLost
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_OpponentEnter_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedOpponent
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_OpponentEnter_1


BattleFrontier_BattleTower_EventScript_SetChallengeStatus::
	tower_set TOWER_DATA_LVL_MODE
	setvar VAR_0x8004, FANCOUNTER_USED_BATTLE_TOWER
	special Script_TryGainNewFanFromCounter
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby
	return


BattleFrontier_BattleTower_EventScript_WarpToLobbyLost::
	frontier_set FRONTIER_DATA_CHALLENGE_STATUS, CHALLENGE_STATUS_LOST
	goto BattleFrontier_BattleTower_EventScript_SetChallengeStatus
	return


BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobbyWon::
	frontier_set FRONTIER_DATA_CHALLENGE_STATUS, CHALLENGE_STATUS_WON
	goto BattleFrontier_BattleTower_EventScript_SetChallengeStatus
	return


BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedOpponent::
	call BattleFrontier_EventScript_IncrementWinStreak
	tower_setbattlewon
	compare VAR_RESULT, 7
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedOpponent_2
BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedOpponent_1:
	applymovement 1, BattleFrontier_BattleTowerBattleRoom_Movement_OpponentExit
	waitmovement 0
	removeobject 1
	frontier_getbrainstatus
	compare VAR_RESULT, FRONTIER_BRAIN_NOT_READY
	goto_if_ne BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedOpponent_5
BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedOpponent_4:
	applymovement 2, BattleFrontier_BattleTowerBattleRoom_Movement_AttendantApproachPlayer
	waitmovement 0
	applymovement OBJ_EVENT_ID_PLAYER, BattleFrontier_BattleTowerBattleRoom_Movement_PlayerFaceAttendant
	waitmovement 0
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_RestoreMonsToFullHealth, MSGBOX_DEFAULT
	playfanfare MUS_HEAL
	waitfanfare
	special HealPlayerParty
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedOpponent_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobbyWon
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedOpponent_1

BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedOpponent_5:
	call BattleFrontier_BattleTowerBattleRoom_EventScript_SecondAttendantEnter
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedOpponent_4


BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent::
	frontier_getbrainstatus
	copyvar VAR_TEMP_F, VAR_RESULT
	compare VAR_TEMP_F, FRONTIER_BRAIN_NOT_READY
	goto_if_ne BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_2
BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_1:
	frontier_get FRONTIER_DATA_BATTLE_NUM
	call BattleFrontier_BattleTowerBattleRoom_EventScript_ReadyForOpponent
	call BattleFrontier_EventScript_GetCantRecordBattle
	compare VAR_RESULT, TRUE
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_5
BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_4:
	multichoice 19, 4, MULTI_GO_ON_RECORD_REST_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_8
	case 1, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_9
	case 2, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_10
	case 3, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_11
	case MULTI_B_PRESSED, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_12
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_MaidenUpNext
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_1

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_5:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponentNoRecord
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_4

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_8:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_ContinueChallenge
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_9:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskRecordBattle
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_10:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskPauseChallenge
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_11:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskRetireChallenge
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent_12:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent
	return


BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponentNoRecord::
	multichoice 20, 6, MULTI_GO_ON_REST_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponentNoRecord_2
	case 1, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponentNoRecord_3
	case 2, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponentNoRecord_4
	case MULTI_B_PRESSED, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponentNoRecord_5
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponentNoRecord_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_ContinueChallenge
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponentNoRecord_3:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskPauseChallenge
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponentNoRecord_4:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskRetireChallenge
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponentNoRecord_5:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent
	return


BattleFrontier_BattleTowerBattleRoom_EventScript_AskRecordBattle::
	message BattleFrontier_BattleTowerBattleRoom_Text_RecordYourBattle
	waitmessage
	multichoicedefault 20, 8, MULTI_YESNO, 1, FALSE
	compare VAR_RESULT, 0
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_AskRecordBattle_2
BattleFrontier_BattleTowerBattleRoom_EventScript_AskRecordBattle_1:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskRecordBattle_2:
	call BattleFrontier_EventScript_SaveBattle
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskRecordBattle_1


BattleFrontier_BattleTowerBattleRoom_EventScript_AskPauseChallenge::
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_SaveAndQuitGame, MSGBOX_YESNO
	compare VAR_RESULT, YES
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_AskPauseChallenge_2
BattleFrontier_BattleTowerBattleRoom_EventScript_AskPauseChallenge_1:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskPauseChallenge_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_PauseChallenge
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskPauseChallenge_1


BattleFrontier_BattleTowerBattleRoom_EventScript_AskRetireChallenge::
	message BattleFrontier_BattleTowerBattleRoom_Text_CancelYourChallenge
	waitmessage
	multichoicedefault 20, 8, MULTI_YESNO, 1, FALSE
	compare VAR_RESULT, 0
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_AskRetireChallenge_2
BattleFrontier_BattleTowerBattleRoom_EventScript_AskRetireChallenge_1:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForOpponent
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskRetireChallenge_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_RetireChallenge
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskRetireChallenge_1


BattleFrontier_BattleTowerBattleRoom_EventScript_ContinueChallenge::
	closemessage
	applymovement OBJ_EVENT_ID_PLAYER, BattleFrontier_BattleTowerBattleRoom_Movement_PlayerFaceBattle
	waitmovement 0
	applymovement 2, BattleFrontier_BattleTowerBattleRoom_Movement_AttendantReturnToPos
	waitmovement 0
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_OpponentEnter
	return


BattleFrontier_BattleTowerBattleRoom_EventScript_PauseChallenge::
	message BattleFrontier_BattleTowerBattleRoom_Text_SavingPleaseWait
	waitmessage
	tower_save CHALLENGE_STATUS_PAUSED
	playse SE_SAVE
	waitse
	fadescreen FADE_TO_BLACK
	frontier_reset
	end


BattleFrontier_BattleTowerBattleRoom_EventScript_ReadyForOpponent::
	copyvar VAR_TEMP_E, VAR_RESULT
	addvar VAR_TEMP_E, 1
	buffernumberstring STR_VAR_3, VAR_TEMP_E
	message BattleFrontier_BattleTowerBattleRoom_Text_ReadyForXOpponent
	waitmessage
	return


BattleFrontier_EventScript_IncrementWinStreak::
	frontier_incrementstreak
	return


BattleFrontier_BattleTowerBattleRoom_EventScript_SecondAttendantEnter::
	applymovement 3, BattleFrontier_BattleTowerBattleRoom_Movement_SecondAttendantEnter
	waitmovement 0
	applymovement 3, Common_Movement_WalkInPlaceLeft
	waitmovement 0
	playse SE_PIN
	applymovement 2, Common_Movement_ExclamationMark
	waitmovement 0
	applymovement 2, Common_Movement_Delay48
	waitmovement 0
	applymovement 3, BattleFrontier_BattleTowerBattleRoom_Movement_SecondAttendantDelay
	applymovement 2, BattleFrontier_BattleTowerBattleRoom_Movement_AttendantFaceSecondAttendant
	waitmovement 0
	applymovement 3, BattleFrontier_BattleTowerBattleRoom_Movement_SecondAttendantExit
	waitmovement 0
	return


BattleFrontier_BattleTowerBattleRoom_EventScript_MaidenUpNext::
	compare VAR_TEMP_2, 1
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_MaidenUpNext_2
BattleFrontier_BattleTowerBattleRoom_EventScript_MaidenUpNext_1:
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_SalonMaidenOnHerWay, MSGBOX_DEFAULT
	setvar VAR_TEMP_2, 1
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_MaidenUpNext_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_MaidenUpNext_1


BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden::
	message BattleFrontier_BattleTowerBattleRoom_Text_ReadyForSalonMaiden
	waitmessage
	call BattleFrontier_EventScript_GetCantRecordBattle
	compare VAR_RESULT, TRUE
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_2
BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_1:
	multichoice 19, 4, MULTI_GO_ON_RECORD_REST_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_5
	case 1, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_6
	case 2, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_7
	case 3, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_8
	case MULTI_B_PRESSED, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_9
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaidenNoRecord
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_1

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_5:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_BattleAnabel
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_6:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskRecordBattle
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_7:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskPauseChallenge
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_8:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskRetireChallenge
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden_9:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden
	return


BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaidenNoRecord::
	multichoice 20, 6, MULTI_GO_ON_REST_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaidenNoRecord_2
	case 1, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaidenNoRecord_3
	case 2, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaidenNoRecord_4
	case MULTI_B_PRESSED, BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaidenNoRecord_5
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaidenNoRecord_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_BattleAnabel
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaidenNoRecord_3:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskPauseChallenge
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaidenNoRecord_4:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskRetireChallenge
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaidenNoRecord_5:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AskReadyForMaiden
	return


BattleFrontier_BattleTowerBattleRoom_EventScript_BattleAnabel::
	call BattleFrontier_EventScript_SetBrainObjectGfx
	closemessage
	applymovement OBJ_EVENT_ID_PLAYER, BattleFrontier_BattleTowerBattleRoom_Movement_PlayerFaceBattle
	waitmovement 0
	applymovement 2, BattleFrontier_BattleTowerBattleRoom_Movement_AttendantReturnToPos
	waitmovement 0
	addobject 1
	applymovement 1, BattleFrontier_BattleTowerBattleRoom_Movement_AnabelEnter
	waitmovement 0
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_Anabel
	return


BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType::
	setvar VAR_TEMP_D, 0
	frontier_get FRONTIER_DATA_HEARD_BRAIN_SPEECH
	compare VAR_RESULT, TRUE
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_2
	addvar VAR_TEMP_D, 0
BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_1:
	switch VAR_TEMP_F
	case FRONTIER_BRAIN_SILVER, BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_7
	case FRONTIER_BRAIN_GOLD, BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_8
	case FRONTIER_BRAIN_STREAK, BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_9
	case FRONTIER_BRAIN_STREAK_LONG, BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_9
BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_5:
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_2:
	addvar VAR_TEMP_D, 2
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_1

BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_7:
	addvar VAR_TEMP_D, 50
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_5

BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_8:
	addvar VAR_TEMP_D, 100
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_5

BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_9:
	addvar VAR_TEMP_D, 200
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType_5


BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro::
	call BattleFrontier_BattleTowerBattleRoom_EventScript_DetermineIntroType
	compare VAR_TEMP_D, 50
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_2
BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_1:
	compare VAR_TEMP_D, 100
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_5
BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_4:
	compare VAR_TEMP_D, 100
	goto_if_lt BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_8
BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_7:
	compare VAR_TEMP_D, 52
	goto_if_gt BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_10
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_2:
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_GreetingsImAnabel, MSGBOX_DEFAULT
	frontier_set FRONTIER_DATA_HEARD_BRAIN_SPEECH
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_1

BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_5:
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_AnabelYouCameBack, MSGBOX_DEFAULT
	frontier_set FRONTIER_DATA_HEARD_BRAIN_SPEECH
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_4

BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_8:
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_LetMeSeeYourTalent, MSGBOX_DEFAULT
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_7

BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro_10:
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_LetsBeginShallWe, MSGBOX_DEFAULT
	return


BattleFrontier_BattleTowerBattleRoom_EventScript_Anabel::
	call BattleFrontier_BattleTowerBattleRoom_EventScript_AnabelIntro
	call BattleFrontier_BattleTowerBattleRoom_EventScript_DoTowerBattle
	compare VAR_RESULT, B_OUTCOME_WON
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_Anabel_2
BattleFrontier_BattleTowerBattleRoom_EventScript_Anabel_1:
	goto BattleFrontier_BattleTower_EventScript_WarpToLobbyLost
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_Anabel_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedAnabel
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_Anabel_1


BattleFrontier_BattleTowerBattleRoom_EventScript_DoTowerBattle::
	closemessage
	setvar VAR_TEMP_2, 0
	frontier_set FRONTIER_DATA_RECORD_DISABLED, FALSE
	special HealPlayerParty
	setvar VAR_0x8004, SPECIAL_BATTLE_TOWER
	setvar VAR_0x8005, 0
	special DoSpecialTrainerBattle
	waitstate
	copyvar VAR_0x8004, VAR_FRONTIER_BATTLE_MODE
	compare VAR_0x8004, FRONTIER_MODE_LINK_MULTIS
	goto_if_ne BattleFrontier_BattleTowerBattleRoom_EventScript_DoTowerBattle_2
BattleFrontier_BattleTowerBattleRoom_EventScript_DoTowerBattle_1:
	tower_setinterviewdata
	frontier_get FRONTIER_DATA_BATTLE_OUTCOME
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_DoTowerBattle_2:
	frontier_restorehelditems
	special HealPlayerParty
	frontier_resetsketch
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_DoTowerBattle_1


BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedAnabel::
	call BattleFrontier_EventScript_IncrementWinStreak
	frontier_getsymbols
	compare VAR_RESULT, 2
	goto_if_eq BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedAnabel_2
BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedAnabel_1:
	call BattleFrontier_BattleTower_EventScript_AnabelCongratsText
	playfanfare MUS_OBTAIN_SYMBOL
	call BattleFrontier_BattleTower_EventScript_FrontierPassText
	waitmessage
	waitfanfare
	frontier_givesymbol
	call BattleFrontier_BattleTower_EventScript_AnabelConclusionText
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobbyWon
	return

BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedAnabel_2:
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobbyWon
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_DefeatedAnabel_1


BattleFrontier_BattleTower_EventScript_AnabelCongratsText::
	compare VAR_RESULT, 0
	goto_if_eq BattleFrontier_BattleTower_EventScript_AnabelCongratsText_2
BattleFrontier_BattleTower_EventScript_AnabelCongratsText_1:
	compare VAR_RESULT, 1
	goto_if_eq BattleFrontier_BattleTower_EventScript_AnabelCongratsText_5
BattleFrontier_BattleTower_EventScript_AnabelCongratsText_4:
	return

BattleFrontier_BattleTower_EventScript_AnabelCongratsText_2:
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_AnabelTalentShallBeRecognized, MSGBOX_DEFAULT
	goto BattleFrontier_BattleTower_EventScript_AnabelCongratsText_1

BattleFrontier_BattleTower_EventScript_AnabelCongratsText_5:
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_AnabelCongratsYourPassPlease, MSGBOX_DEFAULT
	goto BattleFrontier_BattleTower_EventScript_AnabelCongratsText_4


BattleFrontier_BattleTower_EventScript_FrontierPassText::
	compare VAR_RESULT, 0
	goto_if_eq BattleFrontier_BattleTower_EventScript_FrontierPassText_2
BattleFrontier_BattleTower_EventScript_FrontierPassText_1:
	compare VAR_RESULT, 1
	goto_if_eq BattleFrontier_BattleTower_EventScript_FrontierPassText_5
BattleFrontier_BattleTower_EventScript_FrontierPassText_4:
	return

BattleFrontier_BattleTower_EventScript_FrontierPassText_2:
	message BattleFrontier_BattleTowerBattleRoom_Text_ReceivedAbilitySymbol
	goto BattleFrontier_BattleTower_EventScript_FrontierPassText_1

BattleFrontier_BattleTower_EventScript_FrontierPassText_5:
	message BattleFrontier_BattleTowerBattleRoom_Text_AbilitySymbolTookGoldenShine
	goto BattleFrontier_BattleTower_EventScript_FrontierPassText_4


BattleFrontier_BattleTower_EventScript_AnabelConclusionText::
	compare VAR_RESULT, 0
	goto_if_eq BattleFrontier_BattleTower_EventScript_AnabelConclusionText_2
BattleFrontier_BattleTower_EventScript_AnabelConclusionText_1:
	compare VAR_RESULT, 1
	goto_if_eq BattleFrontier_BattleTower_EventScript_AnabelConclusionText_5
BattleFrontier_BattleTower_EventScript_AnabelConclusionText_4:
	return

BattleFrontier_BattleTower_EventScript_AnabelConclusionText_2:
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_UntilNextTime, MSGBOX_DEFAULT
	goto BattleFrontier_BattleTower_EventScript_AnabelConclusionText_1

BattleFrontier_BattleTower_EventScript_AnabelConclusionText_5:
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_WishICouldBattleYouAgain, MSGBOX_DEFAULT
	goto BattleFrontier_BattleTower_EventScript_AnabelConclusionText_4


BattleFrontier_BattleTowerBattleRoom_Movement_PlayerEnter:
	walk_up
	walk_up
	walk_up
	face_right
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_PlayerFaceAttendant:
	face_down
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_PlayerFaceBattle:
	face_right
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_OpponentEnter:
	walk_down
	walk_down
	walk_down
	walk_down
	face_left
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_OpponentExit:
	walk_up
	walk_up
	walk_up
	walk_up
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_AttendantApproachPlayer:
	walk_right
	walk_right
	walk_right
	walk_up
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_AttendantReturnToPos:
	walk_down
	walk_left
	walk_left
	walk_left
	face_right
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_SetInvisible:
	set_invisible
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_SecondAttendantEnter:
	set_visible
	delay_16
	walk_up
	walk_left
	walk_left
	delay_8
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_SecondAttendantExit:
	walk_right
	walk_right
	walk_down
	set_invisible
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_SecondAttendantDelay:
	delay_16
	delay_16
	delay_16
	delay_16
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_AttendantFaceSecondAttendant:
	face_right
	delay_16
	delay_16
	delay_16
	delay_16
	walk_in_place_right
	step_end

BattleFrontier_BattleTowerBattleRoom_Movement_AnabelEnter:
	walk_slow_down
	walk_slow_down
	walk_slow_down
	walk_slow_down
	face_left
	step_end

BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby::
	copyvar VAR_RESULT, VAR_FRONTIER_BATTLE_MODE
	switch VAR_RESULT
	case FRONTIER_MODE_SINGLES, BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_3
	case FRONTIER_MODE_DOUBLES, BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_4
	case FRONTIER_MODE_MULTIS, BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_5
	case FRONTIER_MODE_LINK_MULTIS, BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_6
BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_1:
	waitstate
	end

BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_3:
	warp MAP_BATTLE_FRONTIER_BATTLE_TOWER_LOBBY, 6, 6
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_1

BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_4:
	warp MAP_BATTLE_FRONTIER_BATTLE_TOWER_LOBBY, 10, 6
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_1

BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_5:
	warp MAP_BATTLE_FRONTIER_BATTLE_TOWER_LOBBY, 14, 6
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_1

BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_6:
	tower_closelink
	warp MAP_BATTLE_FRONTIER_BATTLE_TOWER_LOBBY, 18, 6
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby_1


BattleFrontier_BattleTowerBattleRoom_EventScript_RetireChallenge::
	setflag FLAG_CANCEL_BATTLE_ROOM_CHALLENGE
	goto BattleFrontier_BattleTower_EventScript_WarpToLobbyLost
	end


BattleFrontier_EventScript_SetBrainObjectGfx::
	frontier_setbrainobj
	return


BattleFrontier_BattleTowerBattleRoom_Text_RestoreMonsToFullHealth::
	.string "We will restore your POKéMON to\nfull health.$"

BattleFrontier_BattleTowerBattleRoom_Text_ReadyForXOpponent::
	.string "You will be facing opponent no. {STR_VAR_3}.\nAre you ready?$"

BattleFrontier_BattleTowerBattleRoom_Text_RecordYourBattle::
	.string "Record your battle on your\nFRONTIER PASS?$"

BattleFrontier_BattleTowerLobby_Text_BattleRecordedOnPass::
	.string "{PLAYER}'s battle was recorded\non the FRONTIER PASS.$"

BattleFrontier_BattleTowerBattleRoom_Text_SaveAndQuitGame::
	.string "Would you like to save and\nquit the game?$"

BattleFrontier_BattleTowerBattleRoom_Text_SavingPleaseWait::
	.string "Saving your battle data.\nPlease wait.$"

BattleFrontier_BattleTowerBattleRoom_Text_CancelYourChallenge::
	.string "Would you like to cancel your BATTLE\nROOM challenge?$"

BattleFrontier_BattleTowerBattleRoom_Text_RecordCouldntBeSaved::
	.string "There was an error of some sort.\nYour record could not be saved.$"

BattleFrontier_BattleTowerBattleRoom_Text_SalonMaidenOnHerWay::
	.string "Excuse me, but…\pOur leader, the SALON MAIDEN, is on\nher way here in hopes of battling you.\pShe should be arriving very shortly.$"

BattleFrontier_BattleTowerBattleRoom_Text_ReadyForSalonMaiden::
	.string "You will be facing the SALON MAIDEN.\nAre you prepared?$"

BattleFrontier_BattleTowerBattleRoom_Text_GreetingsImAnabel::
	.string "Greetings…\nMy name is ANABEL.\pI am the SALON MAIDEN, and I am in\ncharge of running the BATTLE TOWER…\pI have heard several rumors\nabout you…\pIn all honesty, what I have heard does\nnot seem attractive in any way…\pThe reason I've come to see you…\nWell, there is but one reason…$"

BattleFrontier_BattleTowerBattleRoom_Text_LetMeSeeYourTalent::
	.string "Let me see your talent in\nits entirety…$"

BattleFrontier_BattleTowerBattleRoom_Text_AnabelTalentShallBeRecognized::
	.string "ANABEL: Fufufu, nicely done…\pYour FRONTIER PASS, please…\nYour talent shall be recognized.$"

BattleFrontier_BattleTowerBattleRoom_Text_ReceivedAbilitySymbol::
	.string "The Ability Symbol was embossed on\nthe FRONTIER PASS!$"

BattleFrontier_BattleTowerBattleRoom_Text_UntilNextTime::
	.string "… … … … … …\pYou have confidence in your POKéMON\nbattling talent, don't you?\pI urge you to keep battling and\nkeep on winning.\pI will be waiting for you.\nUntil the next time we meet…$"

BattleFrontier_BattleTowerBattleRoom_Text_AnabelYouCameBack::
	.string "ANABEL: You really did come back to\nsee me…\p… … … … … …\pYou've won straight matches to see me…\nI won't have to hold back against you…\pIt's been too long now…\pToo long since I've been able to battle\nwithout thinking about anything…$"

BattleFrontier_BattleTowerBattleRoom_Text_LetsBeginShallWe::
	.string "Let's begin, shall we?$"

BattleFrontier_BattleTowerBattleRoom_Text_AnabelCongratsYourPassPlease::
	.string "ANABEL: Fufu, congratulations…\nYour FRONTIER PASS, please…$"

BattleFrontier_BattleTowerBattleRoom_Text_AbilitySymbolTookGoldenShine::
	.string "The Ability Symbol took on\na golden shine!$"

BattleFrontier_BattleTowerBattleRoom_Text_WishICouldBattleYouAgain::
	.string "That was fun…\pI have never had a POKéMON battle\nso enjoyable before…\pI wish I could battle with you again…$"
