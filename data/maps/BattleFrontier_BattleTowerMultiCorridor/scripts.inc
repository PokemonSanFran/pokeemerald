BattleFrontier_BattleTowerMultiCorridor_MapScripts::
	map_script MAP_SCRIPT_ON_TRANSITION, BattleFrontier_BattleTowerMultiCorridor_MapScripts_MAP_SCRIPT_ON_TRANSITION
	map_script MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE, BattleFrontier_BattleTowerMultiCorridor_MapScripts_MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE
	map_script MAP_SCRIPT_ON_FRAME_TABLE, BattleFrontier_BattleTowerMultiCorridor_MapScripts_MAP_SCRIPT_ON_FRAME_TABLE
	.byte 0

BattleFrontier_BattleTowerMultiCorridor_MapScripts_MAP_SCRIPT_ON_TRANSITION:
	switch VAR_FRONTIER_BATTLE_MODE
	case FRONTIER_MODE_MULTIS, BattleFrontier_BattleTowerMultiCorridor_MapScripts_MAP_SCRIPT_ON_TRANSITION_2
	case FRONTIER_MODE_LINK_MULTIS, BattleFrontier_BattleTowerMultiCorridor_MapScripts_MAP_SCRIPT_ON_TRANSITION_3
	return

BattleFrontier_BattleTowerMultiCorridor_MapScripts_MAP_SCRIPT_ON_TRANSITION_2:
	call BattleFrontier_BattleTowerMultiCorridor_EventScript_SetObjGfx
	return

BattleFrontier_BattleTowerMultiCorridor_MapScripts_MAP_SCRIPT_ON_TRANSITION_3:
	call BattleFrontier_BattleTowerMultiCorridor_EventScript_SetLinkPlayerGfx
	return

BattleFrontier_BattleTowerMultiCorridor_MapScripts_MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE:
	map_script_2 VAR_TEMP_1, 0, BattleFrontier_BattleTowerMultiCorridor_EventScript_SetUpObjects
	.2byte 0

BattleFrontier_BattleTowerMultiCorridor_MapScripts_MAP_SCRIPT_ON_FRAME_TABLE:
	map_script_2 VAR_TEMP_1, 0, BattleFrontier_BattleTowerMultiCorridor_EventScript_EnterCorridor
	.2byte 0


BattleFrontier_BattleTowerMultiCorridor_EventScript_SetObjGfx::
	tower_setpartnergfx
	checkplayergender
	compare VAR_RESULT, FEMALE
	goto_if_eq BattleFrontier_BattleTowerMultiCorridor_EventScript_SetObjGfx_2
	setvar VAR_OBJ_GFX_ID_F, OBJ_EVENT_GFX_BRENDAN_NORMAL
BattleFrontier_BattleTowerMultiCorridor_EventScript_SetObjGfx_1:
	return

BattleFrontier_BattleTowerMultiCorridor_EventScript_SetObjGfx_2:
	setvar VAR_OBJ_GFX_ID_F, OBJ_EVENT_GFX_MAY_NORMAL
	goto BattleFrontier_BattleTowerMultiCorridor_EventScript_SetObjGfx_1


BattleFrontier_BattleTowerMultiCorridor_EventScript_SetLinkPlayerGfx::
	special SetBattleTowerLinkPlayerGfx
	return


BattleFrontier_BattleTowerMultiCorridor_EventScript_SetUpObjects::
	hideobjectat OBJ_EVENT_ID_PLAYER, MAP_BATTLE_FRONTIER_BATTLE_TOWER_MULTI_CORRIDOR
	hideobjectat 1, MAP_BATTLE_FRONTIER_BATTLE_TOWER_MULTI_CORRIDOR
	hideobjectat 4, MAP_BATTLE_FRONTIER_BATTLE_TOWER_MULTI_CORRIDOR
	special OffsetCameraForBattle
	end


BattleFrontier_BattleTowerMultiCorridor_EventScript_SetDoorCoordinates::
	setflag FLAG_ENABLE_MULTI_CORRIDOR_DOOR
	setvar VAR_0x8004, 14
	setvar VAR_0x8005, 1
	return


BattleFrontier_BattleTowerMultiCorridor_EventScript_EnterCorridor::
	lockall
	call BattleFrontier_BattleTowerMultiCorridor_EventScript_SetDoorCoordinates
	opendoor 1, 1
	waitdooranim
	clearflag FLAG_ENABLE_MULTI_CORRIDOR_DOOR
	showobjectat 1, MAP_BATTLE_FRONTIER_BATTLE_TOWER_MULTI_CORRIDOR
	showobjectat 4, MAP_BATTLE_FRONTIER_BATTLE_TOWER_MULTI_CORRIDOR
	applymovement 1, BattleFrontier_BattleTowerMultiCorridor_Movement_ExitElevator
	applymovement 4, BattleFrontier_BattleTowerMultiCorridor_Movement_ExitElevator
	waitmovement 0
	call BattleFrontier_BattleTowerMultiCorridor_EventScript_SetDoorCoordinates
	closedoor 1, 1
	waitdooranim
	clearflag FLAG_ENABLE_MULTI_CORRIDOR_DOOR
	applymovement 1, BattleFrontier_BattleTowerMultiCorridor_Movement_PlayerWalkToDoor
	applymovement 4, BattleFrontier_BattleTowerMultiCorridor_Movement_PartnerWalkToDoor
	applymovement 3, BattleFrontier_BattleTowerMultiCorridor_Movement_PlayerAttendantWalkToDoor
	applymovement 2, BattleFrontier_BattleTowerMultiCorridor_Movement_PartnerAttendantWalkToDoor
	waitmovement 0
	delay 40
	applymovement 3, Common_Movement_WalkInPlaceFasterUp
	applymovement 2, Common_Movement_WalkInPlaceFasterUp
	waitmovement 0
	opendoor 7, 1
	waitdooranim
	applymovement 3, BattleFrontier_BattleTowerMultiCorridor_Movement_AttendantEnterDoor
	applymovement 2, BattleFrontier_BattleTowerMultiCorridor_Movement_AttendantEnterDoor
	applymovement 1, BattleFrontier_BattleTowerMultiCorridor_Movement_TrainerEnterDoor
	applymovement 4, BattleFrontier_BattleTowerMultiCorridor_Movement_TrainerEnterDoor
	waitmovement 0
	closedoor 7, 1
	waitdooranim
	delay 30
	setvar VAR_TEMP_1, 1
	call BattleFrontier_BattleTowerMultiCorridor_EventScript_WarpToBattleRoom
	releaseall
	end


BattleFrontier_BattleTowerMultiCorridor_EventScript_WarpToBattleRoom::
	switch VAR_FRONTIER_BATTLE_MODE
	case FRONTIER_MODE_SINGLES, BattleFrontier_BattleTowerMultiCorridor_EventScript_WarpToBattleRoom_3
	case FRONTIER_MODE_DOUBLES, BattleFrontier_BattleTowerMultiCorridor_EventScript_WarpToBattleRoom_3
	case FRONTIER_MODE_MULTIS, BattleFrontier_BattleTowerMultiCorridor_EventScript_WarpToBattleRoom_4
	case FRONTIER_MODE_LINK_MULTIS, BattleFrontier_BattleTowerMultiCorridor_EventScript_WarpToBattleRoom_4
BattleFrontier_BattleTowerMultiCorridor_EventScript_WarpToBattleRoom_1:
	waitstate
	return

BattleFrontier_BattleTowerMultiCorridor_EventScript_WarpToBattleRoom_3:
	warp MAP_BATTLE_FRONTIER_BATTLE_TOWER_BATTLE_ROOM, 4, 8
	goto BattleFrontier_BattleTowerMultiCorridor_EventScript_WarpToBattleRoom_1

BattleFrontier_BattleTowerMultiCorridor_EventScript_WarpToBattleRoom_4:
	warp MAP_BATTLE_FRONTIER_BATTLE_TOWER_MULTI_BATTLE_ROOM, 4, 5
	goto BattleFrontier_BattleTowerMultiCorridor_EventScript_WarpToBattleRoom_1


BattleFrontier_BattleTowerMultiCorridor_Movement_PlayerWalkToDoor:
	walk_down
	walk_right
	walk_right
	walk_right
	walk_right
	walk_right
	walk_right
	step_end

BattleFrontier_BattleTowerMultiCorridor_Movement_PartnerWalkToDoor:
	walk_down
	walk_left
	walk_left
	walk_left
	walk_left
	walk_left
	walk_left
	step_end

BattleFrontier_BattleTowerMultiCorridor_Movement_PlayerAttendantWalkToDoor:
	walk_right
	walk_right
	walk_right
	walk_right
	walk_right
	walk_right
	walk_up
	walk_in_place_faster_right
	step_end

BattleFrontier_BattleTowerMultiCorridor_Movement_PartnerAttendantWalkToDoor:
	walk_left
	walk_left
	walk_left
	walk_left
	walk_left
	walk_left
	walk_up
	walk_in_place_faster_left
	step_end

BattleFrontier_BattleTowerMultiCorridor_Movement_TrainerEnterDoor:
	delay_16
	walk_up
	walk_up
	set_invisible
	step_end

BattleFrontier_BattleTowerMultiCorridor_Movement_AttendantEnterDoor:
	walk_up
	set_invisible
	step_end

BattleFrontier_BattleTowerMultiCorridor_Movement_ExitElevator:
	walk_down
	step_end
