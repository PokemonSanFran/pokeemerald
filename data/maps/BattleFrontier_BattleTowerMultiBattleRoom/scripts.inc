BattleFrontier_BattleTowerMultiBattleRoom_MapScripts::
	map_script MAP_SCRIPT_ON_TRANSITION, BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_TRANSITION
	map_script MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE, BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE
	map_script MAP_SCRIPT_ON_FRAME_TABLE, BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_FRAME_TABLE
	.byte 0

BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_TRANSITION:
	compare VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_MULTIS
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_TRANSITION_2
BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_TRANSITION_1:
	compare VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_TRANSITION_5
BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_TRANSITION_4:
	end

BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_TRANSITION_2:
	call BattleFrontier_BattleTowerMultiBattleRoom_EventScript_SetObjGfx
	goto BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_TRANSITION_1

BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_TRANSITION_5:
	special SetBattleTowerLinkPlayerGfx
	goto BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_TRANSITION_4

BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_WARP_INTO_MAP_TABLE:
	map_script_2 VAR_TEMP_1, 0, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_HidePlayerObj
	.2byte 0

BattleFrontier_BattleTowerMultiBattleRoom_MapScripts_MAP_SCRIPT_ON_FRAME_TABLE:
	map_script_2 VAR_TEMP_0, 0, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_EnterRoom
	.2byte 0


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_SetObjGfx::
	tower_setpartnergfx
	checkplayergender
	compare VAR_RESULT, FEMALE
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_SetObjGfx_2
	setvar VAR_OBJ_GFX_ID_F, OBJ_EVENT_GFX_BRENDAN_NORMAL
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_SetObjGfx_1:
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_SetObjGfx_2:
	setvar VAR_OBJ_GFX_ID_F, OBJ_EVENT_GFX_MAY_NORMAL
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_SetObjGfx_1


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_HidePlayerObj::
	hideobjectat OBJ_EVENT_ID_PLAYER, MAP_BATTLE_FRONTIER_BATTLE_TOWER_MULTI_BATTLE_ROOM
	end


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_EnterRoom::
	setvar VAR_TEMP_0, 1
	applymovement 5, BattleFrontier_BattleTowerMultiBattleRoom_Movement_PlayerEnterRoom
	applymovement 6, BattleFrontier_BattleTowerMultiBattleRoom_Movement_PartnerEnterRoom
	waitmovement 0
	frontier_get FRONTIER_DATA_BATTLE_NUM
	compare VAR_RESULT, 0
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_EnterRoom_2
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_EnterRoom_1:
	call BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AttendantGoToChallengers
	frontier_set FRONTIER_DATA_RECORD_DISABLED, TRUE
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_EnterRoom_2:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_OpponentsEnter
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_EnterRoom_1


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AttendantGoToChallengers::
	applymovement 2, BattleFrontier_BattleTowerMultiBattleRoom_Movement_AttendantApproachPlayer
	applymovement 3, BattleFrontier_BattleTowerMultiBattleRoom_Movement_AttendantApproachPlayer
	waitmovement 0
	applymovement 5, BattleFrontier_BattleTowerMultiBattleRoom_Movement_FaceAttendant
	applymovement 6, BattleFrontier_BattleTowerMultiBattleRoom_Movement_FaceAttendant
	waitmovement 0
	return


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_OpponentsEnter::
	tower_setopponent
	addobject 1
	addobject 4
	applymovement 1, BattleFrontier_BattleTowerMultiBattleRoom_Movement_Opponent1Enter
	applymovement 4, BattleFrontier_BattleTowerMultiBattleRoom_Movement_Opponent2Enter
	waitmovement 0
	call BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DoOpponentIntros
	call BattleFrontier_BattleTowerBattleRoom_EventScript_DoTowerBattle
	switch VAR_RESULT
	case B_OUTCOME_WON, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_OpponentsEnter_3
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_OpponentsEnter_1:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_WarpToLobbyLost
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_OpponentsEnter_3:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DefeatedOpponents
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_OpponentsEnter_1


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DoOpponentIntros::
	tower_getopponentintro 0
	delay 15
	applymovement 1, BattleFrontier_BattleTowerMultiBattleRoom_Movement_WalkInPlaceLeft
	waitmovement 0
	compare VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DoOpponentIntros_2
	msgbox gStringVar4, MSGBOX_DEFAULT
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DoOpponentIntros_1:
	waitmessage
	tower_getopponentintro 1
	applymovement 4, BattleFrontier_BattleTowerMultiBattleRoom_Movement_WalkInPlaceLeft
	waitmovement 0
	compare VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DoOpponentIntros_6
	msgbox gStringVar4, MSGBOX_DEFAULT
	call BattleFrontier_BattleTowerMultiBattleRoom_EventScript_LinkDelayForMsg
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DoOpponentIntros_5:
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DoOpponentIntros_2:
	messageautoscroll gStringVar4
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DoOpponentIntros_1

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DoOpponentIntros_6:
	messageautoscroll gStringVar4
	waitmessage
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DoOpponentIntros_5


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DefeatedOpponents::
	call BattleFrontier_EventScript_IncrementWinStreak
	tower_setbattlewon
	compare VAR_RESULT, 7
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DefeatedOpponents_2
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DefeatedOpponents_1:
	applymovement 4, BattleFrontier_BattleTowerMultiBattleRoom_Movement_Opponent2Exit
	applymovement 1, BattleFrontier_BattleTowerMultiBattleRoom_Movement_Opponent1Exit
	waitmovement 0
	removeobject 1
	removeobject 4
	call BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AttendantGoToChallengers
	call BattleFrontier_BattleTowerMultiBattleRoom_EventScript_InformPlayerHeal
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RestoreParty
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DefeatedOpponents_2:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_WarpToLobbyWon
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_DefeatedOpponents_1


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_InformPlayerHeal::
	compare VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_InformPlayerHeal_2
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_RestoreMonsToFullHealth, MSGBOX_DEFAULT
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_InformPlayerHeal_1:
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_InformPlayerHeal_2:
	messageautoscroll BattleFrontier_BattleTowerBattleRoom_Text_RestoreMonsToFullHealth
	call BattleFrontier_BattleTowerMultiBattleRoom_EventScript_LinkDelayForMsg
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_InformPlayerHeal_1


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RestoreParty::
	special LoadPlayerParty
	frontier_setpartyorder FRONTIER_MULTI_PARTY_SIZE
	compare VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RestoreParty_2
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RestoreParty_1:
	playfanfare MUS_HEAL
	waitfanfare
	special HealPlayerParty
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RestoreParty_2:
	call BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ReconnectLink
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RestoreParty_1


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents::
	frontier_get FRONTIER_DATA_BATTLE_NUM
	call BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ReadyForNextOpponentSet
	compare VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_2
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_1:
	call BattleFrontier_EventScript_GetCantRecordBattle
	compare VAR_RESULT, TRUE
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_5
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_4:
	multichoice 19, 4, MULTI_GO_ON_RECORD_REST_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_8
	case 1, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_9
	case 2, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_10
	case 3, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_11
	case MULTI_B_PRESSED, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_12
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_2:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ContinueChallenge
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_1

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_5:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsNoRecord
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_4

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_8:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ContinueChallenge
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_9:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRecordBattle
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_10:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskPauseChallenge
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_11:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRetireChallenge
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents_12:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents
	return


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsNoRecord::
	multichoice 20, 6, MULTI_GO_ON_REST_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsNoRecord_2
	case 1, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsNoRecord_3
	case 2, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsNoRecord_4
	case MULTI_B_PRESSED, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsNoRecord_5
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsNoRecord_2:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ContinueChallenge
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsNoRecord_3:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskPauseChallenge
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsNoRecord_4:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRetireChallenge
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsNoRecord_5:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents
	return


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRecordBattle::
	message BattleFrontier_BattleTowerBattleRoom_Text_RecordYourBattle
	waitmessage
	multichoicedefault 20, 8, MULTI_YESNO, 1, FALSE
	compare VAR_RESULT, 0
	goto_if_ne BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRecordBattle_2
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRecordBattle_1:
	call BattleFrontier_EventScript_SaveBattle
	compare VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRecordBattle_5
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRecordBattle_4:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRecordBattle_2:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRecordBattle_1

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRecordBattle_5:
	setflag FLAG_TEMP_2
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRecordBattle_4


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskPauseChallenge::
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_SaveAndQuitGame, MSGBOX_YESNO
	switch VAR_RESULT
	case NO, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskPauseChallenge_2
	case YES, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskPauseChallenge_3
	case MULTI_B_PRESSED, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskPauseChallenge_4
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskPauseChallenge_2:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskPauseChallenge_3:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_PauseChallenge
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskPauseChallenge_4:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents
	return


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRetireChallenge::
	message BattleFrontier_BattleTowerBattleRoom_Text_CancelYourChallenge
	waitmessage
	multichoicedefault 20, 8, MULTI_YESNO, 1, FALSE
	compare VAR_RESULT, 0
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRetireChallenge_2
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRetireChallenge_1:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponents
	end

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRetireChallenge_2:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RetireChallenge
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRetireChallenge_1


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RetireChallenge::
	compare VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RetireChallenge_1
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_WarpToLobbyLost
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RetireChallenge_1:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RetireChallengeLink
	return


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ContinueChallenge::
	closemessage
	clearflag FLAG_TEMP_2
	applymovement 5, BattleFrontier_BattleTowerMultiBattleRoom_Movement_FaceBattle
	applymovement 6, BattleFrontier_BattleTowerMultiBattleRoom_Movement_FaceBattle
	waitmovement 0
	applymovement 2, BattleFrontier_BattleTowerMultiBattleRoom_Movement_AttendantReturnToPos
	applymovement 3, BattleFrontier_BattleTowerMultiBattleRoom_Movement_AttendantReturnToPos
	waitmovement 0
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_OpponentsEnter
	end


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_SetChallengeStatus::
	tower_set TOWER_DATA_LVL_MODE
	setvar VAR_0x8004, FANCOUNTER_USED_BATTLE_TOWER
	special Script_TryGainNewFanFromCounter
	goto BattleFrontier_BattleTowerBattleRoom_EventScript_WarpToLobby
	return


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_WarpToLobbyLost::
	frontier_set FRONTIER_DATA_CHALLENGE_STATUS, CHALLENGE_STATUS_LOST
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_SetChallengeStatus
	return


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_WarpToLobbyWon::
	frontier_set FRONTIER_DATA_CHALLENGE_STATUS, CHALLENGE_STATUS_WON
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_SetChallengeStatus
	return


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_PauseChallenge::
	message BattleFrontier_BattleTowerBattleRoom_Text_SavingPleaseWait
	waitmessage
	tower_save CHALLENGE_STATUS_PAUSED
	playse SE_SAVE
	waitse
	fadescreen 1
	frontier_reset
	end


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ReadyForNextOpponentSet::
	copyvar VAR_TEMP_E, VAR_RESULT
	addvar VAR_TEMP_E, 1
	buffernumberstring STR_VAR_3, VAR_TEMP_E
	message BattleFrontier_BattleTowerBattleRoom_Text_ReadyForXOpponent
	waitmessage
	compare VAR_FRONTIER_BATTLE_MODE, FRONTIER_MODE_LINK_MULTIS
	goto_if_eq BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ReadyForNextOpponentSet_2
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ReadyForNextOpponentSet_1:
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ReadyForNextOpponentSet_2:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ReadyForNextOpponentSet_1


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_LinkDelayForMsg::
	waitmessage
	delay 48
	return


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink::
	goto_if_set FLAG_TEMP_2, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_2
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_1:
	multichoice 19, 6, MULTI_GO_ON_RECORD_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_5
	case 1, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_6
	case 2, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_7
	case MULTI_B_PRESSED, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_8
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_2:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLinkNoRecord
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_1

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_5:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ContinueChallengeLink
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_6:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRecordBattle
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_7:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRetireChallenge
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLink_8:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRetireChallenge
	end


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLinkNoRecord::
	multichoice 20, 8, MULTI_GO_ON_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLinkNoRecord_2
	case 1, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLinkNoRecord_3
	case MULTI_B_PRESSED, BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLinkNoRecord_4
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLinkNoRecord_2:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ContinueChallengeLink
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLinkNoRecord_3:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRetireChallenge
	return

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskReadyForOpponentsLinkNoRecord_4:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_AskRetireChallenge
	return


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ContinueChallengeLink::
	setvar VAR_0x8004, BATTLE_TOWER_LINK_CONTINUE
	setvar VAR_0x8005, 0
	message gText_LinkStandby3
	waitmessage
	special LinkRetireStatusWithBattleTowerPartner
	waitstate
	compare VAR_RESULT, BATTLE_TOWER_LINKSTAT_CONTINUE
	goto_if_ne BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ContinueChallengeLink_2
BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ContinueChallengeLink_1:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_LinkDelayForMsg
	end

BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ContinueChallengeLink_2:
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_WarpToLobbyLost
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ContinueChallengeLink_1


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_RetireChallengeLink::
	setvar VAR_0x8004, BATTLE_TOWER_LINK_RETIRE
	setvar VAR_0x8005, 0
	message gText_LinkStandby3
	waitmessage
	special LinkRetireStatusWithBattleTowerPartner
	waitstate
	goto BattleFrontier_BattleTowerMultiBattleRoom_EventScript_WarpToLobbyLost
	end


BattleFrontier_BattleTowerMultiBattleRoom_EventScript_ReconnectLink::
	special BattleTowerReconnectLink
	return


BattleFrontier_BattleTowerMultiBattleRoom_Movement_PlayerEnterRoom:
	walk_up
	walk_up
	walk_up
	walk_up
	face_right
	step_end

BattleFrontier_BattleTowerMultiBattleRoom_Movement_PartnerEnterRoom:
	walk_left
	walk_up
	walk_up
	walk_up
	face_right
	step_end

BattleFrontier_BattleTowerMultiBattleRoom_Movement_FaceAttendant:
	face_left
	step_end

BattleFrontier_BattleTowerMultiBattleRoom_Movement_FaceBattle:
	walk_in_place_faster_right
	step_end

BattleFrontier_BattleTowerMultiBattleRoom_Movement_Opponent1Enter:
	walk_down
	walk_down
	walk_down
	walk_down
	face_left
	step_end

BattleFrontier_BattleTowerMultiBattleRoom_Movement_Opponent2Enter:
	walk_right
	walk_down
	walk_down
	walk_down
	face_left
	step_end

BattleFrontier_BattleTowerMultiBattleRoom_Movement_Opponent2Exit:
	walk_up
	walk_up
	walk_up
	set_invisible
	step_end

BattleFrontier_BattleTowerMultiBattleRoom_Movement_Opponent1Exit:
	walk_up
	walk_up
	walk_up
	walk_up
	step_end

BattleFrontier_BattleTowerMultiBattleRoom_Movement_AttendantApproachPlayer:
	walk_right
	walk_right
	step_end

BattleFrontier_BattleTowerMultiBattleRoom_Movement_AttendantReturnToPos:
	walk_left
	walk_left
	walk_in_place_faster_right
	step_end

BattleFrontier_BattleTowerMultiBattleRoom_Movement_WalkInPlaceLeft:
	walk_in_place_left
	step_end

BattleFrontier_BattleTowerMultiBattleRoom_Text_ReadyForXOpponent::
	.string "You will be facing opponent no. {STR_VAR_3}.\nAre you ready?$"

gText_LinkStandby3::
	.string "Link standby…$"

gText_YourPartnerHasRetired::
	.string "Your partner has retired.\pYour BATTLE ROOM challenge\nwill be canceled.$"
