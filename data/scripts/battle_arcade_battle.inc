BattleArcade_RouletteRoom_EventScript_RefreshOpponent::
	tower_setopponent
	call BattleArcade_BattleRoom_EventScript_RefreshOpponentObject
	return


BattleArcade_RouletteRoom_EventScript_SetUpOpponent::
	setvar VAR_TEMP_0, 1
	call BattleArcade_RouletteRoom_EventScript_RefreshOpponent
	call BattleArcade_BattleRoom_EventScript_EnterRoomMovement
	goto BattleArcade_RouletteRoom_EventScript_OpponentEnter
	return


BattleArcade_RouletteRoom_EventScript_OpponentEnter::
	call BattleArcade_BattleRoom_EventScript_OpponentEnterMovement
	frontier_get FRONTIER_DATA_BATTLE_NUM
	compare VAR_RESULT, 0
	goto_if_eq BattleArcade_RouletteRoom_EventScript_OpponentEnter_2
	copyvar VAR_TEMP_E, VAR_RESULT
	addvar VAR_TEMP_E, 1
	buffernumberstring STR_VAR_1, VAR_TEMP_E
	msgbox BattleArcade_RouletteRoom_Text_Next, MSGBOX_DEFAULT
BattleArcade_RouletteRoom_EventScript_OpponentEnter_1:
	delay 15
	msgbox BattleArcade_RouletteRoom_Text_Go, MSGBOX_DEFAULT
	closemessage
	arcade_getopponentintro
	msgbox gStringVar4, MSGBOX_DEFAULT
	waitmessage
	call BattleArcade_RouletteRoom_EventScript_DoTowerBattle
	compare VAR_RESULT, B_OUTCOME_WON
	goto_if_eq BattleArcade_RouletteRoom_EventScript_OpponentEnter_6
BattleArcade_RouletteRoom_EventScript_OpponentEnter_5:
	goto BattleArcade_RouletteRoom_EventScript_WarpToEntranceLost
	return

BattleArcade_RouletteRoom_EventScript_OpponentEnter_2:
	msgbox BattleArcade_RouletteRoom_Text_LetTheBattle, MSGBOX_DEFAULT
	goto BattleArcade_RouletteRoom_EventScript_OpponentEnter_1

BattleArcade_RouletteRoom_EventScript_OpponentEnter_6:
	goto BattleArcade_RouletteRoom_EventScript_DefeatedOpponent
	goto BattleArcade_RouletteRoom_EventScript_OpponentEnter_5


BattleArcade_RouletteRoom_EventScript_WarpToEntranceLost::
	frontier_set FRONTIER_DATA_CHALLENGE_STATUS, CHALLENGE_STATUS_LOST
	arcade_set ARCADE_DATA_LVL_MODE
	goto BattleArcade_RouletteRoom_EventScript_WarpToEntrance
	return


BattleArcade_RouletteRoom_EventScript_WarpToEntrance::
	warp MAP_BATTLE_ARCADE_LOBBY, 7, 8
	waitstate
	end


BattleArcade_RouletteRoom_EventScript_DefeatedOpponent::
	arcade_setbattlewon
	call BattleArcade_BattleRoom_EventScript_DeafeatedOpponentMovement
	call BattleArcade_RouletteRoom_EventScript_StopChallenge
	msgbox BattleArcade_RouletteRoom_Text_WellDone, MSGBOX_DEFAULT
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent
	return


BattleArcade_RouletteRoom_EventScript_StopChallenge::
	arcade_checkmaxstreak
	compare VAR_RESULT, 0
	goto_if_eq BattleArcade_RouletteRoom_EventScript_StopChallenge_2
	msgbox BattleArcade_Entrance_MaxedOutStreak, MSGBOX_DEFAULT
	goto BattleArcade_RouletteRoom_EventScript_WarpToEntranceWon
	return

BattleArcade_RouletteRoom_EventScript_StopChallenge_2:
	return


BattleArcade_RouletteRoom_EventScript_AskReadyGetMenu::
	message BattleArcade_RouletteRoom_Text_DoYouWantToContinue
	waitmessage
	arcade_getcontinuemenutype
	return


BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent::
	call BattleArcade_RouletteRoom_EventScript_AskReadyGetMenu
	switch VAR_RESULT
	case ARCADE_RECORDYES_HEALYES, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_2
	case ARCADE_RECORDYES_HEALNO, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_3
	case ARCADE_RECORDNO_HEALYES, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_4
	case ARCADE_RECORDNO_HEALNO, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_5
	return

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_2:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes
	return

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_3:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo
	return

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_4:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes
	return

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_5:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo
	return


BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo::
	multichoice 22, 4, MULTI_GO_ON_RECORD_REST_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_3
	case 1, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_4
	case 2, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_5
	case 3, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_6
	case MULTI_B_PRESSED, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_7
BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_1:
	return

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_3:
	goto BattleArcade_RouletteRoom_EventScript_ContinueChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_4:
	goto BattleArcade_RouletteRoom_EventScript_AskRecordBattle
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_5:
	goto BattleArcade_RouletteRoom_EventScript_AskPauseChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_6:
	goto BattleArcade_RouletteRoom_EventScript_AskRetireChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_7:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo_1


BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo::
	multichoice 22, 5, MULTI_GO_ON_REST_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_3
	case 1, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_4
	case 2, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_5
	case 3, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_6
BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_1:
	return

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_3:
	goto BattleArcade_RouletteRoom_EventScript_ContinueChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_4:
	goto BattleArcade_RouletteRoom_EventScript_AskPauseChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_5:
	goto BattleArcade_RouletteRoom_EventScript_AskRetireChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_6:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo_1


BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes::
	multichoice 22, 2, MULTI_GO_ON_HEAL_RECORD_REST_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_3
	case 1, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_4
	case 2, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_5
	case 3, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_6
	case 4, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_7
	case MULTI_B_PRESSED, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_8
BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_1:
	return

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_3:
	goto BattleArcade_RouletteRoom_EventScript_ContinueChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_4:
	goto BattleArcade_RouletteRoom_EventScript_AskHeal
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_5:
	goto BattleArcade_RouletteRoom_EventScript_AskRecordBattle
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_6:
	goto BattleArcade_RouletteRoom_EventScript_AskPauseChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_7:
	goto BattleArcade_RouletteRoom_EventScript_AskRetireChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_8:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealYes_1


BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes::
	multichoice 22, 4, MULTI_GO_ON_HEAL_REST_RETIRE, TRUE
	switch VAR_RESULT
	case 0, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_3
	case 1, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_4
	case 2, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_5
	case 3, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_6
	case 4, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_7
BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_1:
	return

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_3:
	goto BattleArcade_RouletteRoom_EventScript_ContinueChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_4:
	goto BattleArcade_RouletteRoom_EventScript_AskHeal
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_5:
	goto BattleArcade_RouletteRoom_EventScript_AskPauseChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_6:
	goto BattleArcade_RouletteRoom_EventScript_AskRetireChallenge
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_1

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_7:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealYes_1


BattleArcade_RouletteRoom_EventScript_AskHeal::
	buffernumberstring STR_VAR_1, VAR_ARCADE_HEAL_COUNT
	msgbox BattleArcade_RouletteRoom_Text_DoYouWantToRestore, MSGBOX_YESNO
	waitmessage
	compare VAR_RESULT, YES
	goto_if_eq BattleArcade_RouletteRoom_EventScript_AskHeal_2
BattleArcade_RouletteRoom_EventScript_AskHeal_1:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent
	return

BattleArcade_RouletteRoom_EventScript_AskHeal_2:
	frontier_restorehelditems
	arcade_restore
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_PostHeal
	goto BattleArcade_RouletteRoom_EventScript_AskHeal_1


BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_PostHeal::
	call BattleArcade_RouletteRoom_EventScript_AskReadyGetMenu
	switch VAR_RESULT
	case ARCADE_RECORDYES_HEALYES, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_PostHeal_2
	case ARCADE_RECORDYES_HEALNO, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_PostHeal_2
	case ARCADE_RECORDNO_HEALYES, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_PostHeal_3
	case ARCADE_RECORDNO_HEALNO, BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_PostHeal_3
	return

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_PostHeal_2:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordYesHealNo
	return

BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent_PostHeal_3:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponentRecordNoHealNo
	return


BattleArcade_RouletteRoom_EventScript_AskRecordBattle::
	msgbox BattleArcade_Entrance_Text_RecordLastMatch, MSGBOX_YESNO
	waitmessage
	compare VAR_RESULT, YES
	goto_if_eq BattleArcade_RouletteRoom_EventScript_AskRecordBattle_2
BattleArcade_RouletteRoom_EventScript_AskRecordBattle_1:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent
	return

BattleArcade_RouletteRoom_EventScript_AskRecordBattle_2:
	call BattleFrontier_EventScript_SaveBattle
	goto BattleArcade_RouletteRoom_EventScript_AskRecordBattle_1


BattleArcade_RouletteRoom_EventScript_AskPauseChallenge::
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_SaveAndQuitGame, MSGBOX_YESNO
	waitmessage
	switch VAR_RESULT
	case YES, BattleArcade_RouletteRoom_EventScript_AskPauseChallenge_2
	case NO, BattleArcade_RouletteRoom_EventScript_AskPauseChallenge_3
	case MULTI_B_PRESSED, BattleArcade_RouletteRoom_EventScript_AskPauseChallenge_3
	return

BattleArcade_RouletteRoom_EventScript_AskPauseChallenge_2:
	goto BattleArcade_RouletteRoom_EventScript_PauseChallenge
	return

BattleArcade_RouletteRoom_EventScript_AskPauseChallenge_3:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent
	return


BattleArcade_RouletteRoom_EventScript_AskRetireChallenge::
	msgbox BattleFrontier_BattleTowerBattleRoom_Text_CancelYourChallenge, MSGBOX_YESNO
	waitmessage
	switch VAR_RESULT
	case YES, BattleArcade_RouletteRoom_EventScript_AskRetireChallenge_2
	case NO, BattleArcade_RouletteRoom_EventScript_AskRetireChallenge_3
	case MULTI_B_PRESSED, BattleArcade_RouletteRoom_EventScript_AskRetireChallenge_3
	return

BattleArcade_RouletteRoom_EventScript_AskRetireChallenge_2:
	goto BattleArcade_RouletteRoom_EventScript_WarpToEntranceWon
	return

BattleArcade_RouletteRoom_EventScript_AskRetireChallenge_3:
	goto BattleArcade_RouletteRoom_EventScript_AskReadyForOpponent
	return


BattleArcade_RouletteRoom_EventScript_ContinueChallenge::
	closemessage
	call BattleArcade_RouletteRoom_EventScript_RefreshOpponent
	call BattleArcade_BattleRoom_EventScript_ContinueChallengeMovement
	goto BattleArcade_RouletteRoom_EventScript_OpponentEnter
	return


BattleArcade_RouletteRoom_EventScript_WarpToEntranceWon::
	frontier_set FRONTIER_DATA_CHALLENGE_STATUS, CHALLENGE_STATUS_WON
	arcade_set TOWER_DATA_LVL_MODE
	goto BattleArcade_RouletteRoom_EventScript_WarpToEntrance
	return


BattleArcade_RouletteRoom_EventScript_PauseChallenge::
	message BattleFrontier_BattleTowerBattleRoom_Text_SavingPleaseWait
	waitmessage
	arcade_save CHALLENGE_STATUS_PAUSED
	playse SE_SAVE
	waitse
	fadescreen FADE_TO_BLACK
	frontier_reset
	end


BattleArcade_RouletteRoom_EventScript_DoTowerBattle::
	closemessage
	setvar VAR_TEMP_2, 0
	frontier_set FRONTIER_DATA_RECORD_DISABLED, FALSE
	setvar VAR_0x8004, SPECIAL_BATTLE_ARCADE
	setvar VAR_0x8005, 0
	special DoSpecialTrainerBattle
	waitstate
	copyvar VAR_0x8004, VAR_FRONTIER_BATTLE_MODE
	arcade_restorehelditems
	arcade_resetsketch
	frontier_get FRONTIER_DATA_BATTLE_OUTCOME
	return


BattleArcade_RouletteRoom_Text_WellDone::
	.string "Well done!$"

BattleArcade_RouletteRoom_Text_LetTheBattle::
	.string "Let the battles begin! Battle No. 1!\n"
	.string "Ready...$"

BattleArcade_RouletteRoom_Text_Next::
	.string "Next. Battle No. {STR_VAR_1}!\n"
	.string "Ready...$"

BattleArcade_RouletteRoom_Text_Go::
	.string "Go!$"

BattleArcade_RouletteRoom_Text_DoYouWantToContinue::
	.string "Do you want to continue arcade?$"

BattleArcade_RouletteRoom_Text_DoYouWantToRestore::
	.string "Do you want to restore your POKÃ©MON?\n"
	.string "(You can restore them {STR_VAR_1}\n"
	.string "more time(s).)$"

BattleArcade_Entrance_MaxedOutStreak::
	.string "Wow, {PLAYER}, {STR_VAR_1} win(s)\n"
	.string "in a row... I think we all need a break!$"
